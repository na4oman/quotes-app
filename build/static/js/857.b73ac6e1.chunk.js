"use strict";(self.webpackChunkreact_router_quotes=self.webpackChunkreact_router_quotes||[]).push([[857],{853:function(e,t,n){n.d(t,{X:function(){return r}});var s=n(683),r=function(e){var t=[];for(var n in e){var r=(0,s.Z)({id:n},e[n]);t.push(r)}return t}},857:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var s=n(504),r=n(871),c="HighlightedQuote_quote__f-ODb",o=n(184),a=function(e){return(0,o.jsxs)("figure",{className:c,children:[(0,o.jsx)("p",{children:e.text}),(0,o.jsx)("figcaption",{children:e.author})]})},i=n(152),m=n(791),d="Comments_comments__Ui70U",l=n(920),u=n(556),x="NewCommentForm_form__vnn35",h="NewCommentForm_control__F0fso",j="NewCommentForm_actions__s9UGz",f=function(e){var t=(0,m.useRef)(),n=(0,l.Mr)(),s=(0,i.Z)(n,2),r=s[0],c=s[1].isLoading;return(0,o.jsxs)(o.Fragment,{children:[c&&(0,o.jsx)("div",{className:"centered",children:(0,o.jsx)(u.Z,{})}),!c&&(0,o.jsxs)("form",{className:x,onSubmit:function(n){n.preventDefault();var s=t.current.value;if(0===s.trim().length)return alert("Please enter a valid comment (not empty field).");r({commentData:{text:s},quoteId:e.quoteId})},children:[(0,o.jsxs)("div",{className:h,children:[(0,o.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,o.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),(0,o.jsx)("div",{className:j,children:(0,o.jsx)("button",{className:"btn",children:"Add Comment"})})]})]})},_="CommentItem_item__xjtqP",N=function(e){return(0,o.jsx)("li",{className:_,children:(0,o.jsx)("p",{children:e.text})})},v="CommentsList_comments__EaGr4",p=function(e){return(0,o.jsx)("ul",{className:v,children:e.comments.map((function(e){return(0,o.jsx)(N,{text:e.text},e.id)}))})},C=n(853),g=function(){var e,t=(0,m.useState)(!1),n=(0,i.Z)(t,2),s=n[0],c=n[1],a=(0,r.UO)(),x=(0,l.jF)(a.quoteId),h=x.data,j=x.isSuccess,_=x.isFetching,N=(0,C.X)(h);_&&(e=(0,o.jsx)("div",{className:"centered",children:(0,o.jsx)(u.Z,{})})),j&&N&&N.length>0&&(e=(0,o.jsx)(p,{comments:N})),!j||N&&0!==N.length||(e=(0,o.jsx)("p",{className:"centered",children:"No comments were added yet!"}));return(0,o.jsxs)("section",{className:d,children:[(0,o.jsx)("h2",{children:"User Comments"}),!s&&(0,o.jsx)("button",{className:"btn",onClick:function(){c(!0)},children:"Add a Comment"}),s&&(0,o.jsx)(f,{quoteId:a.quoteId}),e]})},q=function(){var e=(0,r.UO)(),t=(0,l.MZ)(e.quoteId),n=t.data,c=t.error,i=t.isLoading,m=t.isSuccess;return i?(0,o.jsx)("div",{className:"centered",children:(0,o.jsx)(u.Z,{})}):c?(0,o.jsx)("p",{className:"centered focused",children:c.data}):m?(0,o.jsxs)("section",{children:[(0,o.jsx)(a,{text:n.text,author:n.author}),(0,o.jsxs)(r.Z5,{children:[(0,o.jsx)(r.AW,{path:"",element:(0,o.jsx)("div",{className:"centered",children:(0,o.jsx)(s.rU,{className:"btn--flat",to:"comments",children:"Load Comments"})})}),(0,o.jsx)(r.AW,{path:"comments",element:(0,o.jsx)(g,{})})]})]}):(0,o.jsx)("p",{children:"No quote found."})}}}]);
//# sourceMappingURL=857.b73ac6e1.chunk.js.map